<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pedido ‚Ä¢ WhatsApp</title>
<style>
  :root {
    --bg:#fdf5f0; --card:#fff; --muted:#6b5b4a; --text:#3e3e3e; --accent:#b36b60; --accent-hover:#9d5a51; --border:#e0d7ce;
  }
  *{box-sizing:border-box}
  body{margin:0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:var(--bg); color:var(--text);}
  .container{max-width:1100px; margin:0 auto; padding:24px;}
  header{display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:18px}
  .brand{display:flex; gap:12px; align-items:center}
  .logo{width:42px;height:42px;border-radius:12px;background:#b36b60; display:grid; place-items:center; color:#fff; font-weight:bold; font-size:18px;}
  h1{font-size:22px; margin:0}
  .grid{display:grid; grid-template-columns:1fr; gap:16px}
  @media (min-width:960px){.grid{grid-template-columns:2fr 1fr}}
  .card{background:var(--card); border:1px solid var(--border); border-radius:18px; box-shadow:0 4px 8px rgba(0,0,0,0.05);}
  .card .head{padding:16px 18px; border-bottom:1px solid var(--border); font-weight:600; color:var(--accent)}
  .products{display:grid; grid-template-columns:1fr; gap:12px; padding:16px}
  @media (min-width:680px){.products{grid-template-columns:repeat(2,1fr)}}
  .prod{display:flex; gap:14px; padding:14px; border:1px solid var(--border); border-radius:16px; align-items:center; background:#fff; transition:all 0.2s;}
  .prod:hover{background:#f6eaea;}
  .thumb{width:64px;height:64px;border-radius:12px;background:#e0d7ce; flex:0 0 64px; display:grid; place-items:center; font-size:22px; color:#3e3e3e}
  .prod h3{margin:0 0 6px 0; font-size:16px}
  .muted{color:var(--muted); font-size:13px}
  .price{margin-top:6px; font-weight:600; color:var(--accent)}
  .spacer{flex:1}
  .qty{display:flex; align-items:center; gap:8px}
  .qty button{width:34px;height:34px;border-radius:10px;border:1px solid var(--border); background:#f7f1ed; color:var(--text); cursor:pointer; transition:all 0.2s}
  .qty button:hover{background:#e6d9cf;}
  .qty input{width:44px;text-align:center; padding:6px 8px;border-radius:10px;border:1px solid var(--border); background:#fdf5f0; color:var(--text)}
  .summary{position:sticky; top:16px}
  .section{padding:16px 18px; border-bottom:1px solid var(--border)}
  .row{display:flex; justify-content:space-between; align-items:center; gap:10px; margin:8px 0}
  .total{font-size:18px; font-weight:800; color:var(--accent)}
  .btn{display:inline-flex; align-items:center; justify-content:center; gap:10px; width:100%; padding:14px 16px; border-radius:14px; border:none; background:var(--accent); color:#fff; font-weight:800; cursor:pointer; font-size:16px; transition:all 0.2s}
  .btn:hover{background:var(--accent-hover);}
  .btn[disabled]{opacity:.5; cursor:not-allowed}
  .pill{padding:6px 10px; border:1px solid var(--border); border-radius:999px; font-size:12px; background:#f7f1ed; color:var(--muted)}
  input, select, textarea{width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:#fdf5f0; color:var(--text)}
  textarea{min-height:84px; resize:vertical}
  .foot{padding:14px 18px; font-size:12px; color:var(--muted)}
  .mini{font-size:12px}
  .tag{font-size:12px; padding:2px 8px; border-radius:999px; background:#f7f1ed; border:1px solid var(--border); color:var(--muted);}
  .cart-list{display:grid; gap:8px}
  .cart-item{display:flex; justify-content:space-between; align-items:center; gap:8px; padding:10px 12px; border:1px dashed var(--border); border-radius:12px; background:#fff;}
</style>
</head>
<body>
<div class="container">
<header>
  <div class="brand">
    <div class="logo" aria-hidden="true">üç∞</div>
    <div>
      <h1 id="storeName">Confeitaria Um Doce de Doce</h1>
      <div class="muted mini">Mini-carrinho com envio para WhatsApp</div>
    </div>
  </div>
  <div class="pill">Total de itens: <span id="itemsCount">0</span></div>
</header>
<div class="grid">
<section class="card">
  <div class="head">Produtos</div>
  <div id="products" class="products"></div>
</section>
<aside class="card summary" role="complementary">
  <div class="head">Seu Pedido</div>
  <div class="section">
    <div id="cartList" class="cart-list"></div>
    <div class="muted mini" id="emptyHint">Seu carrinho est√° vazio.</div>
  </div>
  <div class="section">
    <div class="row"><span>Subtotal</span><strong id="subtotal">R$ 0,00</strong></div>
    <div class="row">
      <label for="deliveryMode">Entrega</label>
      <select id="deliveryMode">
        <option value="retirada">Retirada no local</option>
        <option value="entrega">Entrega</option>
      </select>
    </div>
    <div class="row" id="deliveryFeeRow" style="display:none">
      <label for="deliveryFee">Taxa de entrega</label>
      <input id="deliveryFee" type="number" min="0" step="0.01" placeholder="0,00" inputmode="decimal" />
    </div>
    <div class="row total"><span>Total</span><span id="total">R$ 0,00</span></div>
  </div>
  <div class="section">
    <div class="row"><label for="customerName">Nome</label></div>
    <input id="customerName" placeholder="Seu nome" />
    <div class="row" style="margin-top:10px"><label for="customerPhone">Telefone (opcional)</label></div>
    <input id="customerPhone" placeholder="(11) 99999-9999" />
    <div class="row" style="margin-top:10px"><label for="address">Endere√ßo (se entrega)</label></div>
    <textarea id="address" placeholder="Rua, n√∫mero, bairro, cidade"></textarea>
    <div class="row" style="margin-top:10px"><label for="notes">Observa√ß√µes</label></div>
    <textarea id="notes" placeholder="Ex.: sem lactose, ponto da calda, hor√°rio de retirada..."></textarea>
  </div>
  <div class="section">
    <button id="whatsBtn" class="btn" disabled>Finalizar no WhatsApp</button>
    <div class="foot">Ao clicar, abriremos seu WhatsApp com o resumo do pedido preenchido. Voc√™ pode revisar antes de enviar.</div>
  </div>
</aside>
</div>
<div class="foot">Dica: personalize a lista de produtos e o n√∫mero do WhatsApp diretamente no c√≥digo. Tudo roda localmente, sem servidor.</div>
</div>
<script>
const STORE={name:'Confeitaria Um Doce de Doce',phone:'5511997656674',currency:{locale:'pt-BR',code:'BRL'}};
const PRODUCTS=[
{ id:'agua-sem-gas', name:'√Ågua sem G√°s 500ml', price:6.00 },
{ id:'agua-com-gas', name:'√Ågua com G√°s 500ml', price:6.00 },
{ id:'coca', name:'Coca-Cola 350ml', price:7.10 },
{ id:'coca-zero', name:'Coca-Cola Zero 350ml', price:7.10 },
{ id:'guarana', name:'Guaran√° 350ml', price:7.10 },
{ id:'suco-265', name:'Suco Lata 265ml', price:7.80 },
{ id:'suco-290', name:'Suco Lata 290ml', price:9.00 },
{ id:'cafe-expresso', name:'Caf√© Expresso', price:8.70 },
{ id:'cafe-leite', name:'Caf√© com Leite', price:9.60 },
{ id:'capuccino', name:'Capuccino', price:15.00 },
{ id:'cha-quente', name:'Ch√° Quente', price:7.60 },
{ id:'bolo-caseiro', name:'Bolo Caseiro Fatia', price:8.70 },
{ id:'bolo-confeitado', name:'Bolo Confeitado Fatia', price:19.80 },
{ id:'bolo-pote', name:'Bolo no Pote', price:18.00 },
{ id:'pao-queijo', name:'Mini P√£o de Queijo (4 unids)', price:9.60 },
{ id:'panini', name:'Panini (4 unids)', price:16.20 },
{ id:'quiche-cebola', name:'Quiche de Cebola Carmelizada', price:23.10 },
{ id:'quiche-caprese', name:'Quiche Caprese', price:23.10 },
{ id:'croissant-presunto', name:'Croissant com Presunto e Queijo', price:23.10 },
{ id:'croissant-queijo', name:'Croissant com Queijo Branco e Tomate Confit', price:26.00 },
{ id:'croissant-nutella', name:'Croissant com Nutella', price:24.00 },
{ id:'pao-mel', name:'P√£o de Mel', price:9.00 },
{ id:'palha-italiana', name:'Palha Italiana', price:9.00 },
{ id:'brownie', name:'Brownie', price:9.00 },
{ id:'suspiro', name:'Suspiro (Pacote 40g)', price:15.20 },
{ id:'rosa-suspiro', name:'Rosa de Suspiro Recheada com Brigadeiro', price:8.00 }
];
const cart=new Map();
const fmt=n=>n.toLocaleString(STORE.currency.locale,{style:'currency',currency:STORE.currency.code});
function renderProducts(){
  const wrap=document.getElementById('products'); wrap.innerHTML='';
  PRODUCTS.forEach(p=>{
    const el=document.createElement('div'); el.className='prod';
    el.innerHTML=`<div class="thumb"></div><div style="min-width:0"><h3>${p.name}</h3><div class="price">${fmt(p.price)}</div></div><div class="spacer"></div><div class="qty" data-id="${p.id}"><button>‚àí</button><input type="number" min="0" step="1" value="0" inputmode="numeric" /><button>+</button></div>`;
    wrap.appendChild(el);
  });
  wrap.querySelectorAll('.qty').forEach(qty=>{
    const id=qty.getAttribute('data-id'); const product=PRODUCTS.find(p=>p.id===id);
    const [btnMinus,input,btnPlus]=qty.children;
    const sync=()=>{ const v=Math.max(0,parseInt(input.value||'0',10)); input.value=v; if(v>0) cart.set(id,{product,qty:v}); else cart.delete(id); updateCartUI(); };
    btnMinus.addEventListener('click',()=>{ input.value=Math.max(0,(parseInt(input.value||'0',10)-1)); sync(); });
    btnPlus.addEventListener('click',()=>{ input.value=(parseInt(input.value||'0',10)+1); sync(); });
    input.addEventListener('input',sync);
  });
}
function updateCartUI(){
  const list=document.getElementById('cartList'); const emptyHint=document.getElementById('emptyHint');
  const itemsCount=Array.from(cart.values()).reduce((s,i)=>s+i.qty,0); document.getElementById('itemsCount').textContent=itemsCount;
  list.innerHTML=''; if(cart.size===0){emptyHint.style.display='block';}else{emptyHint.style.display='none';}
  let subtotal=0;
  cart.forEach(({product,qty})=>{ const line=product.price*qty; subtotal+=line;
    const row=document.createElement('div'); row.className='cart-item';
    row.innerHTML=`<div style="display:flex; gap:8px; align-items:center"><span class="tag">${qty}√ó</span><div>${product.name}</div></div><div>${fmt(line)}</div>`;
    list.appendChild(row);
  });
  const deliveryMode=document.getElementById('deliveryMode').value;
  const feeRow=document.getElementById('deliveryFeeRow'); feeRow.style.display=deliveryMode==='entrega'?'flex':'none';
  const fee=deliveryMode==='entrega'?parseFloat((document.getElementById('deliveryFee').value||'0').replace(',', '.'))||0:0;
  document.getElementById('subtotal').textContent=fmt(subtotal);
  document.getElementById('total').textContent=fmt(subtotal+fee);
  document.getElementById('whatsBtn').disabled=(cart.size===0);
}
function buildWhatsAppText(){
  const now=new Date(); const orderId=now.toISOString().slice(0,19).replace(/[-:T]/g,'');
  const customer=document.getElementById('customerName').value.trim(); const phone=document.getElementById('customerPhone').value.trim();
  const deliveryMode=document.getElementById('deliveryMode').value; const address=document.getElementById('address').value.trim();
  const notes=document.getElementById('notes').value.trim();
  let subtotal=0; let lines=[];
  cart.forEach(({product,qty})=>{ const line=product.price*qty; subtotal+=line; lines.push(`- ${product.name} x${qty} ‚Äî ${fmt(product.price)} = ${fmt(line)}`); });
  const fee=deliveryMode==='entrega'?parseFloat((document.getElementById('deliveryFee').value||'0').replace(',', '.'))||0:0;
  const total=subtotal+fee;
  const txt=[
    `Novo pedido ‚Äî ${orderId}`, `#${orderId}`, '', 'Itens:', ...lines, '',
    `Subtotal: ${fmt(subtotal)}`, (deliveryMode==='entrega'?`Taxa de entrega: ${fmt(fee)}`:`Entrega: retirada no local`),
    `Total: ${fmt(total)}`, '', (customer?`Cliente: ${customer}`:''), (phone?`Contato: ${phone}`:''), (deliveryMode==='entrega'&&address?`Endere√ßo: ${address}`:''), (notes?`Obs.: ${notes}`:'')
  ].filter(Boolean).join('\n');
  return encodeURIComponent(txt);
}
function init(){
  document.getElementById('storeName').textContent=STORE.name;
  renderProducts(); updateCartUI();
  document.getElementById('deliveryMode').addEventListener('change',updateCartUI);
  document.getElementById('deliveryFee').addEventListener('input',updateCartUI);
  document.getElementById('whatsBtn').addEventListener('click',()=>{ window.open(`https://wa.me/${STORE.phone}?text=${buildWhatsAppText()}`,'_blank'); });
}
init();
</script>
</body>
</html>